# content of: tox.ini , put in same dir as setup.py
[tox]
envlist = py38, flake8

[testenv]
# install pytest in the virtualenv where commands will be executed
deps = -r{toxinidir}/requirements.txt
commands =
    # NOTE: you can run any command line tool here - not just tests
    pytest --maxfail=100 --junit-xml test-reports/results.xml tests

[testenv:flake8]
deps =
    flake8
    flake8-bugbear
    flake8-docstrings>=1.3.1
    flake8-typing-imports>=1.1
    pep8-naming
commands =
    flake8 qpython/ tests/ setup.py

[flake8]
max-line-length = 120